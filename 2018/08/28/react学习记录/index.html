<!DOCTYPE html>
<html lang="zh-cn">
  <head><meta name="generator" content="Hexo 3.8.0"> 
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="Reactå­¦ä¹ è®°å½•ï¼ˆåŸºç¡€å¤ä¹ ï¼‰">




  <meta name="keywords" content="å‰ç«¯å¼€å‘ï¼Œé˜´é˜³å¸ˆï¼Œäº‘ä¹‹éï¼Œé˜¿å˜¤å˜¤å˜¤é…±">










  <link rel="alternate" href="/fountainpomelo.github.io/default" title="è’åœ°">




  <link rel="shortcut icon" type="image/x-icon" href="/fountainpomelo.github.io/favicon.ico?v=2.10.1">



<link rel="canonical" href="http://fountainyys.cn/2018/08/28/reactå­¦ä¹ è®°å½•/">



  <link rel="stylesheet" type="text/css" href="/fountainpomelo.github.io/lib/fancybox/jquery.fancybox.css">




  <link rel="stylesheet" type="text/css" href="/fountainpomelo.github.io/lib/nprogress/nprogress.min.css">



<link rel="stylesheet" type="text/css" href="/fountainpomelo.github.io/css/style.css?v=2.10.1">



  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>





  <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "39Ycb57ktFbAKJP76Iw0VeDK-gzGzoHsz",
      appKey: "npNykeRVozd1FgKAahxFdQxa"
    });
  </script>





<script>
  window.config = {"leancloud":{"app_id":"39Ycb57ktFbAKJP76Iw0VeDK-gzGzoHsz","app_key":"npNykeRVozd1FgKAahxFdQxa"},"toc":true,"fancybox":true,"pjax":true};
</script>

    <title> Reactå­¦ä¹ è®°å½•ï¼ˆåŸºç¡€å¤ä¹ ï¼‰ - è’åœ° </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/fountainpomelo.github.io/." class="logo">è’åœ°</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/fountainpomelo.github.io/">
        <li class="mobile-menu-item">
          
          
            é¦–é¡µ
          
        </li>
      </a>
    
      <a href="/fountainpomelo.github.io/archives/">
        <li class="mobile-menu-item">
          
          
            å½’æ¡£
          
        </li>
      </a>
    
      <a href="/fountainpomelo.github.io/tags/">
        <li class="mobile-menu-item">
          
          
            æ ‡ç­¾
          
        </li>
      </a>
    
      <a href="/fountainpomelo.github.io/about">
        <li class="mobile-menu-item">
          
          
            å…³äº
          
        </li>
      </a>
    
  </ul>
</nav>
    



    <div class="container" id="mobile-panel">





      <header id="header" class="header">
       <div><div class="logo-wrapper">
  <a href="/fountainpomelo.github.io/." class="logo">è’åœ°</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/fountainpomelo.github.io/">
            
            
              é¦–é¡µ
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/fountainpomelo.github.io/archives/">
            
            
              å½’æ¡£
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/fountainpomelo.github.io/tags/">
            
            
              æ ‡ç­¾
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/fountainpomelo.github.io/about">
            
            
              å…³äº
            
          </a>
        </li>
      
    </ul>
  
</nav>
</div>
      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Reactå­¦ä¹ è®°å½•ï¼ˆåŸºç¡€å¤ä¹ ï¼‰
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          8æœˆ 28
        </span>
        
         
          <span class="post-visits" data-url="/fountainpomelo.github.io/2018/08/28/reactå­¦ä¹ è®°å½•/" data-title="Reactå­¦ä¹ è®°å½•ï¼ˆåŸºç¡€å¤ä¹ ï¼‰">
            é˜…è¯»æ¬¡æ•° 0
          </span>
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#èµ„æ–™"><span class="toc-text">èµ„æ–™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reactå¼€å‘æ€ç»´"><span class="toc-text">Reactå¼€å‘æ€ç»´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-router-v4"><span class="toc-text">React-router v4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Routers"><span class="toc-text">Routers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Route-Matching"><span class="toc-text">Route Matching</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Route-Rendering-Props"><span class="toc-text">Route Rendering Props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Navigation"><span class="toc-text">Navigation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¾ªç¯-æ¸²æŸ“åˆ—è¡¨å’Œç»„ä»¶"><span class="toc-text">å¾ªç¯ æ¸²æŸ“åˆ—è¡¨å’Œç»„ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#className"><span class="toc-text">className</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å¤šä¸ªç±»å"><span class="toc-text">å¤šä¸ªç±»å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŠ¨æ€ç±»å"><span class="toc-text">åŠ¨æ€ç±»å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŠ¨æ€ç±»ååº“classnames"><span class="toc-text">åŠ¨æ€ç±»ååº“classnames</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¡ä»¶æ¸²æŸ“-ifelse"><span class="toc-text">æ¡ä»¶æ¸²æŸ“ ifelse</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ğŸŒ°æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶"><span class="toc-text">ğŸŒ°æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç”Ÿå‘½å‘¨æœŸ"><span class="toc-text">ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#åˆ›å»ºç»„ä»¶-çˆ¶å­ç»„ä»¶ä¼ å‚"><span class="toc-text">åˆ›å»ºç»„ä»¶(çˆ¶å­ç»„ä»¶ä¼ å‚)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#constructor-NaN"><span class="toc-text">constructor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#defaultProps"><span class="toc-text">defaultProps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#propTypes"><span class="toc-text">propTypes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setState"><span class="toc-text">setState</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è¡¨å•ã€å®ç°åŒå‘ç»‘å®š"><span class="toc-text">è¡¨å•ã€å®ç°åŒå‘ç»‘å®š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#antDesignè¡¨å•ã€å±æ€§æ ¡éªŒ"><span class="toc-text">antDesignè¡¨å•ã€å±æ€§æ ¡éªŒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux"><span class="toc-text">Redux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å°±é…±å§"><span class="toc-text">å°±é…±å§</span></a></li></ol>
    </div>
  </div>



    <div class="post-content">
      
        <h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><ul>
<li><a href="https://reactjs.org/docs/hello-world.html" target="_blank" rel="noopener">reactå®˜æ–¹ç½‘ç«™</a></li>
<li><a href="https://react.docschina.org/" target="_blank" rel="noopener">reactä¸­æ–‡æ–‡æ¡£</a></li>
<li><a href="https://reacttraining.com/react-router/web/guides/basic-components" target="_blank" rel="noopener">react-routerå®˜ç½‘</a></li>
<li><a href="http://cn.redux.js.org/" target="_blank" rel="noopener">redux</a></li>
</ul>
<p>æˆ‘åœ¨å…¬å¸ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„æ¡†æ¶è¿˜æ˜¯éå¸¸å®¹æ˜“ä¸Šæ‰‹çš„<code>Vue</code>ï¼Œæˆ‘ç¿»åˆ°äº†å»å¹´åŒ†åŒ†å¿™å¿™å­¦ä¹ <code>React</code>æ—¶åšè¿‡çš„å°<code>demo</code>ï¼Œé‡Œé¢ä¸æ•´é½åœ°æºäº†å„ç§å°ä¾‹å­ï¼Œä¸»è¦æ˜¯<code>React</code>çš„åŸºæœ¬è¿ç”¨ï¼Œè¿˜æœ‰æœ€å®é™…çš„è‹¥ä¸åå°äº¤äº’è·å–åˆ°æ•°æ®ååˆ°é¡µé¢çš„æ¸²æŸ“ï¼Œç»“åˆ<code>ant-ui</code>ç­‰<code>UI</code>å°åŠ©æ‰‹ï¼Œä¼šå‘ç°<code>React</code>å…¶å®ç‰¹åˆ«æœ‰æ„æ€ï¼Œæ¥ä¸‹æ¥ï¼Œè·Ÿç€æˆ‘çš„èƒ¡è¨€ä¹±è¯­äº†è§£ä¸€ä¸‹<code>React</code>8âƒ£ï¸ã€‚<br><a id="more"></a><br>éƒ¨åˆ†èµ„æ–™ä¸ºæ‘˜å½•ã€‚</p>
<h2 id="Reactå¼€å‘æ€ç»´"><a href="#Reactå¼€å‘æ€ç»´" class="headerlink" title="Reactå¼€å‘æ€ç»´"></a>Reactå¼€å‘æ€ç»´</h2><p>â€œç»„ä»¶â€è¿™ä¸ªè¯ï¼Œåœ¨è¿™å‡ å¹´æˆ‘è§‰å¾—å¬çƒ‚äº†ã€‚åœ¨æˆ‘ä»¬å¯¹<code>React</code>çš„ç†è§£é‡Œï¼Œé¦–å…ˆæ˜¯å°è£…èµ·æ¥çš„å…·æœ‰ç‹¬ç«‹åŠŸç”¨çš„<code>UI</code>éƒ¨ä»¶ï¼Œç”±äºç”¨<code>jQuery</code>å»(å¤æ‚åœ°)æ“ä½œçš„<code>DOM</code>å…ƒç´ ï¼ŒåæœŸä»£ç ä¼šå˜å¾—è¶Šæ¥è¶Šéš¾ç»´æŠ¤ï¼Œç›¸ä¿¡å¦‚æœä½ éœ€è¦å»ç»´æŠ¤åˆ«äººå†™çš„<code>jq</code>é¡¹ç›®ï¼Œä½ æ˜ç™½æˆ‘åœ¨è¯´ä»€ä¹ˆï¼Œæ€ä¹ˆè¿›è¡Œé«˜åŠŸç”¨çš„æ‚ä¹±<code>DOM</code>æ“ä½œé€šå¸¸æ˜¯è¡¡é‡ä¸€ä¸ªå‰ç«¯å¼€å‘äººå‘˜æŠ€èƒ½çš„é‡è¦ç›®æ ‡ã€‚</p>
<p><code>React</code>ä¸ºæ­¤å¼•å…¥äº†è™šæ‹Ÿ<code>DOMï¼ˆVirtual DOMï¼‰</code>çš„æœºåˆ¶ï¼šåœ¨æµè§ˆå™¨ç«¯ç”¨<code>Javascript</code>å®Œç»“äº†ä¸€å¥—<code>DOM API</code>ã€‚ä¾æ®<code>React</code>è¿›è¡Œå¼€å‘æ—¶ä¸€åˆ‡çš„<code>DOM</code>ç»“æ„éƒ½æ˜¯ç»è¿‡è™šæ‹Ÿ<code>DOM</code>è¿›è¡Œï¼Œæ¯é€¢æ•°æ®æ”¹åŠ¨æ—¶ï¼Œ<code>React</code>éƒ½ä¼šä»å¤´æ„å»ºå…¨éƒ¨<code>DOM</code>æ ‘ï¼Œç„¶å<code>React</code>å°†å½“æ—¶å…¨éƒ¨<code>DOM</code>æ ‘å’Œä¸Šä¸€æ¬¡çš„<code>DOM</code>æ ‘è¿›è¡Œæ¯”ç…§ï¼Œå¾—åˆ°<code>DOM</code>ç»“æ„çš„å·®å¼‚ï¼Œç„¶åä»…ä»…å°†éœ€æ±‚æ”¹åŠ¨çš„æœ‰äº›è¿›è¡Œå®è·µçš„æµè§ˆå™¨<code>DOM</code>æ›´æ–°ã€‚</p>
<p>å¹¶ä¸”<code>React</code>èƒ½å¤Ÿæ‰¹å¤„ç†è™šæ‹Ÿ<code>DOM</code>çš„æ”¹å†™ï¼Œåœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯<code>ï¼ˆEvent Loopï¼‰</code>å†…çš„ä¸¤æ¬¡æ•°æ®æ”¹åŠ¨ä¼šè¢«å…¼å¹¶ï¼Œä¾‹å¦‚ä½ è¿ç»­çš„å…ˆå°†èŠ‚ç‚¹å†…å®¹ä»Aæˆä¸ºBï¼Œç„¶ååˆä»Bæˆä¸ºAï¼Œ<code>React</code>ä¼šä»¥ä¸º<code>UI</code>ä¸å‘ç”Ÿä»»ä½•æ”¹åŠ¨ï¼Œè€Œå‡å¦‚ç»è¿‡æ‰‹åŠ¨æ“æ§ï¼Œè¿™ç§é€»è¾‘é€šå¸¸æ˜¯æç«¯æ‚ä¹±çš„ã€‚å°½ç®¡æ¯ä¸€æ¬¡éƒ½éœ€æ±‚ç»“æ„å®Œå¥½çš„è™šæ‹Ÿ<code>DOM</code>æ ‘ï¼Œå¯æ˜¯ç”±äºè™šæ‹Ÿ<code>DOM</code>æ˜¯å†…å­˜æ•°æ®ï¼ŒåŠŸç”¨æ˜¯æé«˜çš„ï¼Œè€Œå¯¹å®è·µ<code>DOM</code>è¿›è¡Œæ“ä½œçš„ä»…ä»…æ˜¯<code>Diff</code>æœ‰äº›ï¼Œå› è€Œèƒ½åˆ°è¾¾æé«˜åŠŸç”¨çš„ç›®çš„ã€‚è¿™ä¹ˆï¼Œåœ¨ç¡®ä¿åŠŸç”¨çš„ä¸€åŒï¼Œå¼€å‘è€…å°†ä¸å†éœ€æ±‚é‡è§†æŸä¸ªæ•°æ®çš„æ”¹åŠ¨æ€ä¹ˆæ›´æ–°åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå…·ä½“çš„<code>DOM</code>å…ƒç´ ï¼Œè€Œåªéœ€æ±‚å…³æ€€åœ¨ä»»æ„ä¸€ä¸ªæ•°æ®çŠ¶å†µä¸‹ï¼Œå…¨éƒ¨ç•Œé¢æ˜¯æ€ä¹ˆ<code>Render</code>çš„ã€‚</p>
<h2 id="React-router-v4"><a href="#React-router-v4" class="headerlink" title="React-router v4"></a>React-router v4</h2><p><code>&quot;react-router-dom&quot;: &quot;^4.3.1&quot;</code></p>
<h3 id="Routers"><a href="#Routers" class="headerlink" title="Routers"></a>Routers</h3><ul>
<li><p><code>&lt;BrowserRouter&gt;</code><br>  é€šè¿‡<code>HTML5</code>çš„<code>history</code> <code>API</code>æ¥æ”¹å˜<code>URL</code>ï¼Œå¹¶ä¸æœåŠ¡å™¨é…åˆå®ç°çš„è·¯ç”±åˆ‡æ¢çš„<br>ğŸŒ°</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render((</span><br><span class="line">    &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;App /&gt;</span><br><span class="line">    &lt;<span class="regexp">/BrowserRouter&gt;</span></span><br><span class="line"><span class="regexp">), document.getElementById('root'));</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;HashRouter&gt;</code><br>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯é™æ€èµ„æºæœåŠ¡å™¨ï¼Œå°†æ›´æ¨èè¿™ç§</p>
</li>
</ul>
<h3 id="Route-Matching"><a href="#Route-Matching" class="headerlink" title="Route Matching"></a>Route Matching</h3><ul>
<li><p><code>&lt;Route&gt;</code><br>  æ²¡æœ‰è·¯å¾„<code>path</code>çš„<code>&lt;Route&gt;</code>å°†æ€»æ˜¯è¢«åŒ¹é…ï¼ˆå‘ˆç°ï¼‰<br>ğŸŒ°</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Route, Switch &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>; <span class="comment">//importè·¯ç”±</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// when location = &#123; pathname: '/about' &#125;</span></span><br><span class="line"></span><br><span class="line">&lt;Route path=<span class="string">'/about'</span> component=&#123;About&#125;/&gt;     <span class="comment">// renders &lt;About/&gt;</span></span><br><span class="line">&lt;Route path=<span class="string">'/contact'</span> component=&#123;Contact&#125;/&gt; <span class="comment">// renders null</span></span><br><span class="line"></span><br><span class="line">&lt;Route component=&#123;Always&#125;/&gt;                  <span class="comment">// renders &lt;Always/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;Switch&gt;</code><br>  å°†è¿­ä»£å…¶æ‰€æœ‰å­å…ƒç´ <code>&lt;route&gt;</code>å¹¶ä¸”åªæ¸²æŸ“ä¸å½“å‰ä½ç½®åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ <br>  æ‚¨å¯ä»¥åœ¨è·¯ç”±ä¹‹é—´è®¾ç½®è½¬æ¢åŠ¨ç”»ä»¥åŠæ ‡è¯†æ²¡æœ‰è·¯ç”±åŒ¹é…æ—¶å¯å‘ˆç°â€œ404â€ç»„ä»¶<br>ğŸŒ°</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Switch&gt;</span><br><span class="line">  &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br><span class="line">  &lt;Route path=<span class="string">"/about"</span> component=&#123;About&#125; /&gt;</span><br><span class="line">  &lt;Route path=<span class="string">"/contact"</span> component=&#123;Contact&#125; /&gt;</span><br><span class="line"></span><br><span class="line">  &#123;<span class="comment">/* å½“æ²¡æœ‰è·¯ç”±è¢«åŒ¹é…æ—¶, &lt;NoMatch&gt; ç»„ä»¶å°†è¢«æ¸²æŸ“ */</span>&#125;</span><br><span class="line">  &lt;Route component=&#123;NoMatch&#125; /&gt;</span><br><span class="line">&lt;<span class="regexp">/Switch&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Route-Rendering-Props"><a href="#Route-Rendering-Props" class="headerlink" title="Route Rendering Props"></a>Route Rendering Props</h3><ul>
<li><code>component</code></li>
<li><p><code>render</code><br>åœ¨è·¯ç”±åŒ¹é…åˆ°çš„æ—¶å€™ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä»£æ›¿ä½¿ç”¨ç»„ä»¶å±æ€§ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªæ–°çš„<code>react</code>å…ƒç´ ï¼Œ<code>render</code> å’Œ <code>component</code> ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// convenient inline rendering</span></span><br><span class="line">&lt;Route path=<span class="string">"/home"</span> render=&#123;() =&gt; &lt;div&gt;Home&lt;/div&gt;&#125;/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// wrapping/composing</span></span><br><span class="line"><span class="keyword">const</span> FadingRoute = <span class="function">(<span class="params">&#123; component: Component, ...rest &#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;Route &#123;...rest&#125; render=&#123;props =&gt; (</span><br><span class="line">    &lt;FadeIn&gt;</span><br><span class="line">      &lt;Component &#123;...props&#125;/&gt;</span><br><span class="line">    &lt;<span class="regexp">/FadeIn&gt;</span></span><br><span class="line"><span class="regexp">  )&#125;/</span>&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&lt;FadingRoute path=<span class="string">"/cool"</span> component=&#123;Something&#125;/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>children</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;ListItemLink to=<span class="string">"/somewhere"</span> /&gt;</span><br><span class="line">  &lt;ListItemLink to=<span class="string">"/somewhere-else"</span> /&gt;</span><br><span class="line">&lt;<span class="regexp">/ul&gt;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const ListItemLink = (&#123; to, ...rest &#125;) =&gt; (</span></span><br><span class="line"><span class="regexp">  &lt;Route</span></span><br><span class="line"><span class="regexp">    path=&#123;to&#125;</span></span><br><span class="line"><span class="regexp">    children=&#123;(&#123; match &#125;) =&gt; (</span></span><br><span class="line"><span class="regexp">      &lt;li className=&#123;match ? "active" : ""&#125;&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Link to=&#123;to&#125; &#123;...rest&#125; /</span>&gt;</span><br><span class="line">      &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    )&#125;</span></span><br><span class="line"><span class="regexp">  /</span>&gt;</span><br><span class="line">);</span><br><span class="line">&lt;Route children=&#123;(&#123; match, ...rest &#125;) =&gt; (</span><br><span class="line">  &#123;<span class="comment">/* Animate will always render, so you can use lifecycles</span></span><br><span class="line"><span class="comment">      to animate its child in and out */</span>&#125;</span><br><span class="line">  &lt;Animate&gt;</span><br><span class="line">    &#123;match &amp;&amp; &lt;Something &#123;...rest&#125;/&gt;&#125;</span><br><span class="line">  &lt;/Animate&gt;</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h3><ul>
<li><p><code>&lt;Link&gt;</code><br>å°†åˆ›å»ºä¸€ä¸ª<code>a</code>æ ‡ç­¾</p>
</li>
<li><p><code>&lt;NavLink&gt;</code><br>æ˜¯<code>&lt;Link&gt;</code>çš„ç‰¹æ®Šå½¢å¼ï¼Œå¯ä»¥ç»™å®ƒä¸€ä¸ª<code>activeStyle</code>(æ ·å¼)</p>
</li>
</ul>
<ul>
<li><code>&lt;Redirect&gt;</code><br>æ–°ä½ç½®å°†è¦†ç›–æµè§ˆå™¨å†å²å †æ ˆä¸­çš„å½“å‰ä½ç½®<code>&lt;Redirect to=&quot;/somewhere/else&quot; /&gt;</code><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Route, Redirect &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></span><br><span class="line"></span><br><span class="line">&lt;Route exact path=<span class="string">"/"</span> render=&#123;() =&gt; (</span><br><span class="line">loggedIn ? (</span><br><span class="line">&lt;Redirect   </span><br><span class="line">    to=&#123;&#123;</span><br><span class="line">        pathname: <span class="string">"/login"</span>,</span><br><span class="line">        search: <span class="string">"?utm=your+face"</span>,</span><br><span class="line">        state: &#123; <span class="attr">referrer</span>: currentLocation &#125;</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  /&gt;</span><br><span class="line">) : (</span><br><span class="line">&lt;PublicHomePage/&gt;</span><br><span class="line">)</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>äº†è§£è¿™ä¹ˆå¤šï¼Œæˆ‘é¦–å…ˆæƒ³è¦å®ç°çš„åŠŸèƒ½æ˜¯å¯¼èˆªç»„ä»¶åªå¼•ç”¨ä¸€æ¬¡ï¼Œå†…å®¹éƒ¨åˆ†è·¯ç”±åˆ‡æ¢ï¼Œç±»ä¼¼ <code>vue</code> ç•™å‘å®ç°è·¯ç”±åµŒå¥—è¿™æ ·çš„åŠŸèƒ½ã€‚</p>
<p>æƒ³è¦å®ç°ï¼š<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;MainMenu&gt;&lt;/MainMenu&gt;</span><br><span class="line">    <span class="comment">// å˜åŒ–çš„éƒ¨åˆ†</span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>åˆ©ç”¨ <code>Route</code> çš„ <code>children</code>å±æ€§ï¼ŒæŠŠè¿™äº›å˜åŒ–çš„éƒ¨åˆ†å†™æˆ <code>props.childern</code> å°±å¯ä»¥å®ç°ã€‚</p>
<h2 id="å¾ªç¯-æ¸²æŸ“åˆ—è¡¨å’Œç»„ä»¶"><a href="#å¾ªç¯-æ¸²æŸ“åˆ—è¡¨å’Œç»„ä»¶" class="headerlink" title="å¾ªç¯ æ¸²æŸ“åˆ—è¡¨å’Œç»„ä»¶"></a>å¾ªç¯ æ¸²æŸ“åˆ—è¡¨å’Œç»„ä»¶</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> menus = [</span><br><span class="line">  &#123; <span class="attr">key</span>: <span class="string">'1'</span>, <span class="attr">url</span>: <span class="string">'/about'</span>, <span class="attr">name</span>: <span class="string">'about'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">key</span>: <span class="string">'2'</span>, <span class="attr">url</span>: <span class="string">'/tag'</span>, <span class="attr">name</span>: <span class="string">'tag'</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">&#123; menus.map(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Menu.Item key=&#123;i&#125;&gt;</span><br><span class="line">      &lt;Icon type=<span class="string">"user"</span> /&gt;</span><br><span class="line">      &lt;Link to=&#123;item.url&#125; &gt; &#123; item.name &#125; &lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Menu.Item&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;)&#125;</span><br></pre></td></tr></table></figure>
<h2 id="className"><a href="#className" class="headerlink" title="className"></a>className</h2><h3 id="å¤šä¸ªç±»å"><a href="#å¤šä¸ªç±»å" class="headerlink" title="å¤šä¸ªç±»å"></a>å¤šä¸ªç±»å</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&#123; `$&#123;this.state.a&#125; $&#123;this.state.b&#125;` &#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="åŠ¨æ€ç±»å"><a href="#åŠ¨æ€ç±»å" class="headerlink" title="åŠ¨æ€ç±»å"></a>åŠ¨æ€ç±»å</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&#123;index === this.state.active ? &quot;active&quot; : null&#125;&gt;æ ‡é¢˜&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="åŠ¨æ€ç±»ååº“classnames"><a href="#åŠ¨æ€ç±»ååº“classnames" class="headerlink" title="åŠ¨æ€ç±»ååº“classnames"></a>åŠ¨æ€ç±»ååº“<code>classnames</code></h3><ul>
<li>ä½¿ç”¨  <code>npm i classnames</code><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">classNames(<span class="string">'foo'</span>, <span class="string">'bar'</span>); <span class="comment">// =&gt; 'foo bar'</span></span><br><span class="line">classNames(<span class="string">'foo'</span>, &#123; <span class="attr">bar</span>: <span class="literal">true</span> &#125;); <span class="comment">// =&gt; 'foo bar'</span></span><br><span class="line">classNames(&#123; <span class="string">'foo-bar'</span>: <span class="literal">true</span> &#125;); <span class="comment">// =&gt; 'foo-bar'</span></span><br><span class="line">classNames(&#123; <span class="string">'foo-bar'</span>: <span class="literal">false</span> &#125;); <span class="comment">// =&gt; ''</span></span><br><span class="line">classNames(&#123; <span class="attr">foo</span>: <span class="literal">true</span> &#125;, &#123; <span class="attr">bar</span>: <span class="literal">true</span> &#125;); <span class="comment">// =&gt; 'foo bar'</span></span><br><span class="line">classNames(&#123; <span class="attr">foo</span>: <span class="literal">true</span>, <span class="attr">bar</span>: <span class="literal">true</span> &#125;); <span class="comment">// =&gt; 'foo bar'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lots of arguments of various types</span></span><br><span class="line">classNames(<span class="string">'foo'</span>, &#123; <span class="attr">bar</span>: <span class="literal">true</span>, <span class="attr">duck</span>: <span class="literal">false</span> &#125;, <span class="string">'baz'</span>, &#123; <span class="attr">quux</span>: <span class="literal">true</span> &#125;); <span class="comment">// =&gt; 'foo bar baz quux'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// other falsy values are just ignored</span></span><br><span class="line">classNames(<span class="literal">null</span>, <span class="literal">false</span>, <span class="string">'bar'</span>, <span class="literal">undefined</span>, <span class="number">0</span>, <span class="number">1</span>, &#123; <span class="attr">baz</span>: <span class="literal">null</span> &#125;, <span class="string">''</span>); <span class="comment">// =&gt; 'bar 1'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="æ¡ä»¶æ¸²æŸ“-ifelse"><a href="#æ¡ä»¶æ¸²æŸ“-ifelse" class="headerlink" title="æ¡ä»¶æ¸²æŸ“ ifelse"></a>æ¡ä»¶æ¸²æŸ“ ifelse</h2><p>å¯ä»¥ä¸‰å…ƒç›´æ¥åˆ¤æ–­<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.overType == <span class="number">1</span> ?</span><br><span class="line">      (</span><br><span class="line">        &lt;span &gt;åœæ­¢&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">      ) </span></span><br><span class="line"><span class="regexp">        :</span></span><br><span class="line"><span class="regexp">      (</span></span><br><span class="line"><span class="regexp">        &lt;span &gt;å¼€å§‹&lt;/</span>span&gt;</span><br><span class="line">      )</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ä½†åœ¨<code>jsxx</code>ä¸­æ˜¯ä¸å…è®¸<code>if</code>æ¡ä»¶åˆ¤æ–­ï¼Œå¯ä»¥é€šè¿‡å‡½æ•°æ–¹æ³•å†™<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">template()&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.state.overType == <span class="number">1</span> )&#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;span &gt;åœæ­¢&lt;/span&gt;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.state.overType == <span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;span &gt;å¼€å§‹&lt;/span&gt;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;span &gt;å‡ºé”™å•¦&lt;/span&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;tags&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      &#123; this.template() &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;/</span>div &gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ğŸŒ°æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶"><a href="#ğŸŒ°æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶" class="headerlink" title="ğŸŒ°æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶"></a>ğŸŒ°æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Greeting</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> isLoggedIn = props.isLoggedIn; </span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isLoggedIn) &#123;  </span><br><span class="line">    <span class="keyword">return</span> &lt;UserGreeting /&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">  return &lt;GuestGreeting /&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Greeting isLoggedIn=&#123;false&#125; /&gt;,</span><br><span class="line">  document.getElementById('root')</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><p><img src="/fountainpomelo.github.io/2018/08/28/reactå­¦ä¹ è®°å½•/state-and-lifecycle.webp"></p>
<h2 id="åˆ›å»ºç»„ä»¶-çˆ¶å­ç»„ä»¶ä¼ å‚"><a href="#åˆ›å»ºç»„ä»¶-çˆ¶å­ç»„ä»¶ä¼ å‚" class="headerlink" title="åˆ›å»ºç»„ä»¶(çˆ¶å­ç»„ä»¶ä¼ å‚)"></a>åˆ›å»ºç»„ä»¶(çˆ¶å­ç»„ä»¶ä¼ å‚)</h2><p>*ä»¥ä¸‹å‡ä¸º<code>es6</code>å†™æ³•ï¼Œå¦‚æ¬²å¯¹æ¯”<code>es5</code>å†™æ³•ä¸åŒä¹‹å¤„ï¼Œæ¨èé˜…è¯»<a href="https://www.cnblogs.com/wonyun/p/5930333.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>å’Œ<a href="https://medium.com/@kingzs70/%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9-react-createclass-es6-classes-%E6%97%A0%E7%8A%B6%E6%80%81%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6-52f07dd70e75" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ï¼ŒæŸ¥çœ‹å…¸å‹æ¡ˆä¾‹æ¨è<a href="https://react.docschina.org/docs/state-and-lifecycle.html" target="_blank" rel="noopener">åˆ¶ä½œæ—¶é’Ÿå®˜æ–¹æ¡ˆä¾‹</a></p>
<h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(props) &#123;         </span><br><span class="line">  <span class="keyword">super</span>(props);            </span><br><span class="line">  <span class="keyword">this</span>.state = &#123;<span class="attr">count</span>: props.initialCount&#125;;</span><br><span class="line">  <span class="keyword">this</span>.handleClick = <span class="keyword">this</span>.handleClick.bind(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>super</code>å…³é”®å­—ï¼Œå®ƒæŒ‡ä»£çˆ¶ç±»çš„å®ä¾‹ï¼Œç»§æ‰¿çˆ¶ç±»çš„<code>this</code>å¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚å¦‚æœä¸è°ƒç”¨<code>super</code>æ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°<code>this</code>å¯¹è±¡ã€‚</p>
<p>ç»„ä»¶çš„<code>props</code>æ˜¯çˆ¶ç»„ä»¶é€šè¿‡è°ƒç”¨å­ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’çš„ï¼Œå­ç»„ä»¶å†…éƒ¨ä¸åº”è¯¥å¯¹<code>props</code>è¿›è¡Œä¿®æ”¹ï¼Œå®ƒæ›´åƒæ˜¯æ‰€æœ‰å­ç»„ä»¶å®ä¾‹å…±äº«çš„çŠ¶æ€ï¼Œä¸ä¼šå› ä¸ºå­ç»„ä»¶å†…éƒ¨æ“ä½œè€Œæ”¹å˜ã€‚</p>
<h3 id="defaultProps"><a href="#defaultProps" class="headerlink" title="defaultProps"></a>defaultProps</h3><p>å®šä¹‰é»˜è®¤<code>props</code><br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> defaultProps = &#123;   <span class="comment">//ç±»çš„é™æ€å±æ€§</span></span><br><span class="line">  name: <span class="string">'demo'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="propTypes"><a href="#propTypes" class="headerlink" title="propTypes"></a>propTypes</h3><p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ£€æŸ¥æ•è·å¤§é‡é”™è¯¯ï¼ŒPropTypes åŒ…å«ä¸€æ•´å¥—éªŒè¯å™¨ï¼Œå¯ç”¨äºç¡®ä¿ä½ æ¥æ”¶çš„æ•°æ®æ˜¯æœ‰æ•ˆçš„ã€‚è¯¦ç»†è§<a href="https://react.docschina.org/docs/typechecking-with-proptypes.html" target="_blank" rel="noopener">æ–‡æ¡£</a>ã€‚<br>å‡ºäºæ€§èƒ½åŸå› ï¼Œ<code>propTypes</code> åªåœ¨å¼€å‘æ¨¡å¼ä¸‹è¿›è¡Œæ£€æŸ¥ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Snoopy.propTypes = &#123;</span><br><span class="line">  name: React.PropTypes.string</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      posts: [],</span><br><span class="line">      comments: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ç‹¬ç«‹æ›´æ–°</span></span><br><span class="line">componentDidMount() &#123;</span><br><span class="line">    fetchPosts().then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        posts: response.posts</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  fetchComments().then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      comments: response.comments</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµ…åˆå¹¶ï¼Œæ¢ä¹Ÿå°±æ˜¯è¯´<code>this.setState({comments})</code>å®Œæ•´ä¿ç•™äº†<code>this.state.posts</code>ï¼Œä½†å®Œå…¨æ›¿äº†<code>this.state.comments</code>ã€‚</p>
<h2 id="è¡¨å•ã€å®ç°åŒå‘ç»‘å®š"><a href="#è¡¨å•ã€å®ç°åŒå‘ç»‘å®š" class="headerlink" title="è¡¨å•ã€å®ç°åŒå‘ç»‘å®š"></a>è¡¨å•ã€å®ç°åŒå‘ç»‘å®š</h2><p>ä½ ç°åœ¨ç”¨è‡ªå·±çš„<code>iput</code>å°ç»„ä»¶ä¸<code>state</code>æ•°æ®ç»‘å®šï¼Œæƒ³è¦å°†è¡¨å•æ•°æ®è‡ªåŠ¨å½¢æˆä¸€ä¸ªå¯¹è±¡ä»¥ä¾¿ä¼ å‚ï¼Œå‘ç°<code>input</code>å†…å®¹æ€ä¹ˆéƒ½è¾“å…¥ä¸è¿›å»ã€‚<br>é¦–å…ˆæƒ³åˆ°çš„æ˜¯æ•°æ®åŒå‘ç»‘å®šï¼Œä½†<code>react</code>åªæ˜¯å•å‘æ•°æ®æµï¼ˆè‡ªä¸Šè€Œä¸‹ï¼‰ï¼Œæƒ³è¦åŒå‘å°±å¾—è‡ªå·±å†™å•¦ã€‚</p>
<p>å°†å¤šä¸ª <code>setState()</code> è°ƒç”¨åˆå¹¶æˆä¸€ä¸ªè°ƒç”¨æ¥æé«˜æ€§èƒ½ã€‚</p>
<p>ç»™<code>input</code>å®šä¹‰å¥½<code>name</code>ï¼Œæ–¹ä¾¿<code>setState</code>å¯¹åº”çš„å€¼å“¦ã€‚<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;form onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125;&gt;</span><br><span class="line">  &lt;label&gt;</span><br><span class="line">    Name:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> name=<span class="string">"input2"</span> value=&#123;<span class="keyword">this</span>.state.input2&#125; onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">  &lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">  &lt;label&gt;</span></span><br><span class="line"><span class="regexp">    ç•™è¨€: &lt;textarea value=&#123;this.state.textarea&#125; name='textarea' onChange=&#123;this.handleChange&#125; /</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">  &lt;input type="submit" value="Submit" /</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/form&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ç„¶åé€šè¿‡<code>event</code>å¯ä»¥è·å–åˆ°ç›®æ ‡ä¿¡æ¯ï¼ŒåŠ¨æ€æ›´æ”¹è¡¨å•æ•°æ®ã€‚<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">handleChange(event) &#123;</span><br><span class="line">  <span class="keyword">const</span> target = event.target;</span><br><span class="line">  <span class="keyword">const</span> value = target.type === <span class="string">'checkbox'</span> ? target.checked : target.value;</span><br><span class="line">  <span class="keyword">const</span> name = target.name;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">    [name]: value</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="antDesignè¡¨å•ã€å±æ€§æ ¡éªŒ"><a href="#antDesignè¡¨å•ã€å±æ€§æ ¡éªŒ" class="headerlink" title="antDesignè¡¨å•ã€å±æ€§æ ¡éªŒ"></a>antDesignè¡¨å•ã€å±æ€§æ ¡éªŒ</h2><p>åœ¨ä½¿ç”¨<code>ant-ui</code>è¡¨å•ç…§æ¬ä¾‹å­çš„æ—¶å€™ï¼Œå‘ç°äº†<code>getFieldDecorator</code>è¿™ä¸ªä¸œè¥¿ï¼Œå†™ä¸Šä¹‹åä¼šæŠ¥<code>Cannot read property &#39;getFieldDecorator&#39; of undefined</code>ï¼Œè§£å†³åŠæ³•ï¼š</p>
<p>ç» <code>Form.create()</code> åŒ…è£…è¿‡çš„ç»„ä»¶ä¼šè‡ªå¸¦ <code>this.props.form</code> å±æ€§ï¼Œæ‰€ä»¥éœ€è¦åŒ…è£…ä¸€ä¸‹<code>Tags</code>ç»„ä»¶<code>Tags = Form.create({})(Tags);</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Tags</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; getFieldDecorator &#125; = <span class="keyword">this</span>.props.form;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;form onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125;&gt;</span><br><span class="line">          &lt;Form.Item</span><br><span class="line">            label=<span class="string">"Note"</span></span><br><span class="line">            labelCol=&#123;&#123; <span class="attr">span</span>: <span class="number">5</span> &#125;&#125;</span><br><span class="line">            wrapperCol=&#123;&#123; <span class="attr">span</span>: <span class="number">12</span> &#125;&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            &#123;getFieldDecorator(<span class="string">'note'</span>, &#123;</span><br><span class="line">              initialValue: item.value, <span class="comment">//ç»‘å®šåˆå§‹å€¼</span></span><br><span class="line">              rules: [&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">'Please input your note!'</span> &#125;],</span><br><span class="line">            &#125;)(</span><br><span class="line">              &lt;Input /&gt;</span><br><span class="line">            )&#125;</span><br><span class="line">          &lt;<span class="regexp">/Form.Item&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>form&gt;</span><br><span class="line">      &lt;<span class="regexp">/div &gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">Tags = Form.create(&#123;&#125;)(Tags);</span></span><br></pre></td></tr></table></figure>
<p>èµ°è¿™ä¸€æ­¥ï¼Œä½ æƒ³è¦å–å¾—è¡¨å•çš„æ•°æ®ä¼ é€ç»™åå°:</p>
<p> <code>this.props.form.validateFields((err, values) =&gt; {})</code></p>
<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><p>å°±ç®—è‹±æ–‡å†éš¾ä»¥é˜…è¯»ï¼Œä¹Ÿè¦å…ˆçŸ¥é“å‡ ä¹æ‰€æœ‰åšå®¢çš„æ•™ç¨‹ï¼Œå…¶å®ä¹Ÿæ˜¯å†åŠ å·¥è€Œå·²ï¼Œæœ‰äº›æ—¶å€™ï¼Œä¸è¿‡ç›´æ¥çœ‹åŸç‰ˆæ¥çš„å¥½ã€‚</p>
<p>çœ‹ä¸ªè§†é¢‘ï¼Œæ„Ÿå—ä¸€ä¸‹<code>redux</code>ä½œè€…çš„å£°éŸ³å§ï¼Œ<a href="https://egghead.io/series/getting-started-with-redux" target="_blank" rel="noopener">30é›†å…è´¹è§†é¢‘</a>åœ¨çº¿æ”¶å¬ã€‚</p>
<h2 id="å°±é…±å§"><a href="#å°±é…±å§" class="headerlink" title="å°±é…±å§"></a>å°±é…±å§</h2><p>æ„Ÿè°¢</p>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>åŸæ–‡ä½œè€…: </span>
      <a href="http://fountainyys.cn">fountainyys.cn</a>
    </p>
    <p class="copyright-item">
      <span>åŸæ–‡é“¾æ¥: </span>
      <a href="http://fountainyys.cn/2018/08/28/reactå­¦ä¹ è®°å½•/">http://fountainyys.cn/2018/08/28/reactå­¦ä¹ è®°å½•/</a>
    </p>

  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/fountainpomelo.github.io/tags/react/">react</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/fountainpomelo.github.io/2018/09/28/Vueå•é¡µé¢é¦–å±åŠ è½½æ…¢/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Vueå•é¡µé¢é¦–å±åŠ è½½æ…¢</span>
        <span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span>
      </a>
    
    
      <a class="next" href="/fountainpomelo.github.io/2018/06/03/é‚£äº›è·¨åŸŸé—®é¢˜/">
        <span class="next-text nav-default">é‚£äº›è·¨åŸŸé—®é¢˜</span>
        <span class="prev-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer"> 


<div class="copyright">
  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2019
   <span class="author">fountainyys.cn</span>
  <span class="power-by">
    ç”± <a class="hexo-link" href="https://hexo.io/">Hexo</a> å¼ºåŠ›é©±åŠ¨
  </span>
  <span class="division">	&amp;</span>
  <span class="theme-info">
  
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  



  
  





  
    <script type="text/javascript" src="/fountainpomelo.github.io/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/fountainpomelo.github.io/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/fountainpomelo.github.io/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/fountainpomelo.github.io/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/fountainpomelo.github.io/lib/nprogress/nprogress.min.js"></script>
  


    <script src="http://cdn.bootcss.com/headroom/0.5.0/headroom.min.js"></script>
<script src="http://res2.wx.qq.com/open/js/jweixin-1.4.0.js "></script>
<script type="text/javascript" src="/fountainpomelo.github.io/js/src/even.js?v=2.10.1"></script>

  </body>
</html>
